(this["webpackJsonptask-menager"]=this["webpackJsonptask-menager"]||[]).push([[0],{154:function(e,t,a){e.exports=a(244)},228:function(e,t,a){},230:function(e,t,a){},231:function(e,t,a){},240:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),l=a(11);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(163);var u=a(64),i=a(8),s=a(65),d=a(22),f=a(88),m=a.n(f),p=r.a.createContext(),b=a(87),E=a(59),h=a.n(E),v=function(e){return{type:"DATA/CHANG_DATA",payload:e}},y=function(e){return{type:"DATA/SET_DATA",payload:e}},k=a(148),O=a(26),j=a(245),g=a(249),D=function(e){var t=e.value,a=Object(l.b)(),c=Object(l.c)((function(e){return e.appData})),o=c.data,u=c.todayData,i=Object(n.useState)(!1),s=Object(d.a)(i,2),f=s[0],m=s[1],p=Object(n.useState)(""),b=Object(d.a)(p,2),E=b[0],h=b[1];return Object(n.useEffect)((function(){h(t.task)}),[t.task]),r.a.createElement("div",null,r.a.createElement(k.a,{title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",placement:"topRight"},r.a.createElement(O.a,{shape:"circle",icon:r.a.createElement(g.a,null),onClick:function(){m(!0)}})),r.a.createElement(j.a,{title:"Basic Modal",visible:f,onOk:function(e){m(!1),o.forEach((function(e){e.id===t.id&&(e.task=E)})),u.forEach((function(e){e.id===t.id&&(e.task=E)})),a(v({data:o,todayData:u}))},onCancel:function(e){h(t.task),m(!1)}},r.a.createElement("textarea",{name:"story",rows:"5",cols:"33",value:E,onChange:function(e){h(e.target.value)}})))},T=a(248),A=a(250),w=a(251),x=a(252),C=Object(b.b)((function(e){var t=e.value,a=e.type,c=t.checked&&"table-task--done",o=Object(n.useContext)(p).tableTaskControl;Object(n.useContext)(p);return r.a.createElement("li",{className:"table-task ".concat(c),title:"\u043a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0434\u0432\u0430\u0440\u0430 \u043d\u0430 \u0442\u0435\u043a\u0441\u0442"},r.a.createElement("div",{className:"table-task__date"},h()(t.data).format("DD MMMM YYYY")),r.a.createElement("div",{className:"table-task__key"},t.key),r.a.createElement("div",{className:"table-task__text",title:"\u041a\u043b\u0438\u043a\u043d\u0438\u0435\u0442 \u0434\u0432\u0430 \u0440\u0430\u0437\u0430"},t.task),r.a.createElement("div",{className:"control-panel"},r.a.createElement("div",{className:"control-panel__elem"},r.a.createElement(D,{value:t}),r.a.createElement(k.a,{title:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e",placement:"bottomLeft"},r.a.createElement(O.a,{shape:"circle",icon:r.a.createElement(A.a,{twoToneColor:"#52c41a"}),onClick:function(){return o.handleChacked(t)}}))),r.a.createElement("div",{className:"control-panel__elem"},r.a.createElement(T.a,{title:"Sure to delete?",onConfirm:function(){return o.handleDelete(t.id)}},r.a.createElement(O.a,{shape:"circle",icon:r.a.createElement(w.a,{twoToneColor:"#52c41a"})})),"data"===a||t.everyday?r.a.createElement(k.a,{title:"\u041a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u043d\u044c",placement:"bottomLeft"},r.a.createElement(O.a,{shape:"circle",icon:r.a.createElement(x.a,{twoToneColor:"#eb2f96"}),onClick:function(){return o.handleEveryday(t.id)}})):null)))})),S=Object(b.a)((function(e){var t=e.items,a=e.type;return r.a.createElement("ul",null,t.map((function(e,t){return r.a.createElement(C,{key:e.key,index:t,value:e,type:a,title:"\u0442\u0435\u043a\u0441\u0442"})})))})),N=(a(228),function(e){var t=e.data,a=e.type,c=Object(l.b)(),o=Object(n.useState)(t),u=Object(d.a)(o,2),f=u[0],b=u[1],E=Object(l.c)((function(e){return e.appData}));Object(n.useEffect)((function(){b(t)}),[t]);var h={handleDelete:function(e){var t=E.data,a=E.todayData;(t=t.filter((function(t){return t.id!==e}))).forEach((function(e,t){e.key=t+1})),(a=a.filter((function(t){return t.id!==e}))).forEach((function(e,t){e.key=t+1})),c(v({data:t,todayData:a}))},handleChacked:function(e){var t=E.data,a=E.todayData;t.forEach((function(t){t.id===e.id&&(t.checked=!t.checked)})),a.forEach((function(t){t.id===e.id&&(t.checked=!t.checked)})),c(v({data:t,todayData:a}))},handleEveryday:function(e){var t=E.data,a=E.todayData,n={};t.forEach((function(t){t.id===e&&(t.everyday=!t.everyday)})),a.forEach((function(t){t.id===e&&(t.everyday=!t.everyday)}));var r=t.filter((function(t){return t.id===e}));for(var o in r[0])console.log(o," = ",r[0][o]),n[o]=r[0][o];if(a.filter((function(e){return e.id===n.id})).length)c(v({data:t,todayData:a}));else{var l=[].concat(Object(s.a)(a),[n]);l.forEach((function(e,t){return e.key=t+1})),c(v({data:t,todayData:Object(s.a)(l)}))}}};return r.a.createElement(p.Provider,{value:{tableTaskControl:h}},"data"===a&&!t.length&&r.a.createElement(i.a,{to:"/"}),r.a.createElement(S,{items:f,onSortEnd:function(e){var t=e.oldIndex,n=e.newIndex;if(b(m()(f,t,n)),"data"===a){var r=m()(f,t,n);r.forEach((function(e,t){return e.key=t+1})),c(v({data:r,todayData:E.todayData}))}if("todayData"===a){var o=m()(f,t,n);o.forEach((function(e,t){return e.key=t+1})),c(v({data:E.data,todayData:o}))}},type:a}))}),I=(a(230),function(){var e=Object(l.c)((function(e){return e.appData.todayData}));return r.a.createElement(N,{data:e,type:"todayData"})}),_=function(){var e=Object(l.c)((function(e){return e.appData.data}));return r.a.createElement(N,{data:e,type:"data"})},M=(a(231),function(){return r.a.createElement("div",null,"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0442\u0430\u0441\u043e\u043a \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442\u044c\u0441\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0438\u043b\u0438 \u043d\u0435\u0442 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u0438 \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0433\u0440\u0430\u0444\u0438\u043a \u043f\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0443 \u0441\u043e\u0434\u0430\u043d\u044b\u0445 \u0442\u0430\u0441\u043e\u043a \u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u044b\u0445 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434 \u043c\u0435\u0441\u044f\u0446 : \u0441\u043e\u0437\u0434\u0430\u043d\u043e 5 \u0442\u0430\u0441\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e 2 \u043d\u0435\u0434\u0435\u043b\u044f \u0433\u043e\u0434")}),U=a(246),J=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.appData})),a=t.data,c=t.todayData,o=Object(n.useState)(""),u=Object(d.a)(o,2),i=u[0],f=u[1];return r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var n=Math.floor(1e6*Math.random()),r=E().valueOf(),o={key:a.length+1,id:n,checked:!1,everyday:!1,date:r,task:i},l={key:c.length+1,id:n,checked:!1,everyday:!1,date:r,task:i};e(v({data:[].concat(Object(s.a)(a),[o]),todayData:[].concat(Object(s.a)(c),[l])})),f("")}},r.a.createElement(U.a,{placeholder:"Basic usage",onChange:function(e){f(e.target.value)},value:i}),r.a.createElement(O.a,{type:"primary",htmlType:"submit"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"))},R=function(){var e=Object(l.b)(),t=Object(n.useState)(!0),a=Object(d.a)(t,2),c=a[0],o=a[1],u=Object(n.useState)(""),i=Object(d.a)(u,2),s=i[0],f=i[1],m=Object(n.useState)(""),p=Object(d.a)(m,2),b=p[0],E=p[1],h=Object(n.useState)(!1),v=Object(d.a)(h,2),y=v[0],k=v[1];return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("authorization"));k(e)})),console.log(),r.a.createElement("div",null,y?r.a.createElement("button",{onClick:function(){localStorage.setItem("authorization",JSON.stringify(!1)),k(!1)}},"\u0412\u044b\u0439\u0442\u0438"):r.a.createElement(r.a.Fragment,null,!c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return o(!0)}},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement("button",null,"\u0412\u043e\u0439\u0442\u0438")),c&&r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a=Math.floor(1e8*Math.random()),n={data:{allTask:[],todayTask:[]}};n.login=s,n.password=b,n.id=a,e({type:"UI/AUTHORIZATION",payload:{user:n}})}},r.a.createElement("input",{type:"text",placeholder:"login",value:s,onChange:function(e){var t=e.target.value;return f(t)}}),r.a.createElement("input",{type:"password",placeholder:"password",value:b,onChange:function(e){var t=e.target.value;return E(t)}}),r.a.createElement("button",{type:"submit"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c"))))};a(240);var B=function(){return r.a.createElement(u.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(u.b,{to:"/"},"\u0417\u0430\u0434\u0430\u0447\u0438 \u043d\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/all-task"},"\u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/statistics"},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430")))),r.a.createElement("div",null,r.a.createElement("input",{type:"file"})),r.a.createElement(R,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/"},r.a.createElement(J,null),r.a.createElement(I,null)),r.a.createElement(i.b,{path:"/all-task"},r.a.createElement(_,null)),r.a.createElement(i.b,{path:"/statistics"},r.a.createElement(M,null)))))},H=a(33),Y=a(149),Z=a(152),$={data:[],todayData:[]},z=Object(H.c)({appData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATA/SET_DATA":return Object(Z.a)({},e,{},t.payload);default:return e}}}),F=a(16),G=a.n(F),L=a(37),P="$2b$10$5lgVDxg.soDXeYRaXUq8huBbb3U.F4V84S1kdZaKnf7Ri9l2OU3le";function V(){return fetch("https://api.jsonbin.io/b/".concat("5f141a8791806166284481cf"),{method:"GET",headers:{"secret-key":P}}).then((function(e){return e.json()}))}function W(e){return fetch("https://api.jsonbin.io/b/".concat("5f141a8791806166284481cf"),{method:"PUT",headers:{"Content-Type":"application/json","secret-key":P,versioning:"false"},body:JSON.stringify(e)})}var X=G.a.mark(ne),q=G.a.mark(re),K=G.a.mark(ce),Q=G.a.mark(oe),ee=G.a.mark(le),te=G.a.mark(ue),ae=G.a.mark(ie);function ne(e){var t;return G.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,Object(L.c)(y(t));case 3:W(t);case 4:case"end":return a.stop()}}),X)}function re(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.d)("DATA/CHANG_DATA",ne);case 2:case"end":return e.stop()}}),q)}function ce(){var e;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(L.b)(V);case 2:e=t.sent,console.log(e,"response");case 4:case"end":return t.stop()}}),K)}function oe(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.d)("DATA/INIT_DATA",ce);case 2:case"end":return e.stop()}}),Q)}function le(e){var t,a,n;return G.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,console.log("AUTHORIZATION"),r.next=4,Object(L.b)(V);case 4:if(a=r.sent,n=a.users.filter((function(e){return e.login===t.user.login})),console.log(n,"user"),n.length){r.next=16;break}return a.users.push(t.user),localStorage.setItem("login",JSON.stringify(t.user.login)),localStorage.setItem("authorization",JSON.stringify(!0)),W(a),r.next=14,Object(L.c)(y(t.user.data));case 14:r.next=17;break;case 16:console.log("\u0432\u044b\u0434\u0430\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0430 \u0447\u0442\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0435\u0441\u0442\u044c");case 17:case"end":return r.stop()}}),ee)}function ue(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.d)("UI/AUTHORIZATION",le);case 2:case"end":return e.stop()}}),te)}function ie(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.a)([oe(),re(),ue()]);case 2:case"end":return e.stop()}}),ae)}var se=Object(Y.a)(),de=Object(H.e)(z,Object(H.a)(se,(function(e){var t=e.dispatch;return setTimeout((function(){return t({type:"DATA/INIT_DATA"})}),0),function(e){return function(t){return e(t)}}})));se.run(ie);a(242),a(243);o.a.render(r.a.createElement(l.a,{store:de},r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[154,1,2]]]);
//# sourceMappingURL=main.6b48c951.chunk.js.map